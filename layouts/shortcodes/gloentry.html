<!--- variables based on shortcode argument -->
{{- $entry := (.Get 0) -}}

<!-- range over data file -->
{{- range $.Site.Data.termbase -}}

<!-- Find matches -->
    {{- if eq ( .abbr | lower) ( $entry | lower ) -}}
    {{ if .link }}
        <a href="{{ .link }}">
    {{- end -}}
    <abbr title="{{- .abbr -}}: {{ .definition | plainify -}}"> {{- .abbr -}}</abbr>
    {{ if .link }}
        </a>
    {{- end -}}
{{- else if eq ( .term | lower) ( $entry | lower ) -}}
        {{ if .link }}
            <a href="{{ .link }}">
        {{- end -}}
        <abbr title="{{ .definition | plainify -}}"> {{- .term -}}</abbr>
        {{ if .link }}
            </a>
        {{- end -}}
    {{- end -}}
{{- end -}}
